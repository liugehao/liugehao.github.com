<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>My Note Book</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="liugehao">

    <!-- Le styles -->
    <link rel="stylesheet" href="http://liugehao.github.io/theme/css/bootstrap.min.css" type="text/css" />
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
      .tag-1 {
        font-size: 13pt;
      }
      .tag-2 {
        font-size: 10pt;
      }
      .tag-2 {
        font-size: 8pt;
      }
      .tag-4 {
        font-size: 6pt;
     }
    </style>
    <link href="http://liugehao.github.io/theme/css/bootstrap-responsive.min.css" rel="stylesheet">
        <link href="http://liugehao.github.io/theme/css/font-awesome.css" rel="stylesheet">

    <link href="http://liugehao.github.io/theme/css/pygments.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="http://liugehao.github.io/theme/images/favicon.ico">
    <link rel="apple-touch-icon" href="http://liugehao.github.io/theme/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="http://liugehao.github.io/theme/images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="http://liugehao.github.io/theme/images/apple-touch-icon-114x114.png">

    <link href="http://liugehao.github.io/" type="application/atom+xml" rel="alternate" title="My Note Book ATOM Feed" />

  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="http://liugehao.github.io/index.html">My Note Book </a>
          <div class="nav-collapse">
            <ul class="nav">
                          <li class="divider-vertical"></li>
                  <li >
                    <a href="http://liugehao.github.io/category/c.html">
						<i class="icon-folder-open icon-large"></i>c
					</a>
                  </li>
                  <li >
                    <a href="http://liugehao.github.io/category/db.html">
						<i class="icon-folder-open icon-large"></i>db
					</a>
                  </li>
                  <li >
                    <a href="http://liugehao.github.io/category/linux.html">
						<i class="icon-folder-open icon-large"></i>linux
					</a>
                  </li>
                  <li >
                    <a href="http://liugehao.github.io/category/linux2fe697a0e7babfe7bd91e58da1make3a202a2a2a2flib.html">
						<i class="icon-folder-open icon-large"></i>linux(2fe697a0e7babfe7bd91e58da1)make(3a202a2a2a2f)lib
					</a>
                  </li>
                  <li >
                    <a href="http://liugehao.github.io/category/nginx.html">
						<i class="icon-folder-open icon-large"></i>nginx
					</a>
                  </li>
                  <li >
                    <a href="http://liugehao.github.io/category/others.html">
						<i class="icon-folder-open icon-large"></i>Others
					</a>
                  </li>
                  <li >
                    <a href="http://liugehao.github.io/category/php.html">
						<i class="icon-folder-open icon-large"></i>php
					</a>
                  </li>
                  <li >
                    <a href="http://liugehao.github.io/category/python.html">
						<i class="icon-folder-open icon-large"></i>python
					</a>
                  </li>
                  <li >
                    <a href="http://liugehao.github.io/category/ruby.html">
						<i class="icon-folder-open icon-large"></i>ruby
					</a>
                  </li>
                  <li >
                    <a href="http://liugehao.github.io/category/tmp.html">
						<i class="icon-folder-open icon-large"></i>tmp
					</a>
                  </li>

                          <ul class="nav pull-right">
                                <li><a href="http://liugehao.github.io/archives.html"><i class="icon-th-list"></i>Archives</a></li>
                          </ul>

            </ul>
            <!--<p class="navbar-text pull-right">Logged in as <a href="#">username</a></p>-->
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row">
        <div class="span9" id="content">
        <div class="article">
                <h1><a href="http://liugehao.github.io/ubuntu-wine-an-zhuang-rtx.html">ubuntu wine 安装 rtx</a></h1>
                <div class="well small"><footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2012-12-26T00:00:00">
        <i class="icon-calendar"></i>三 26 十二月 2012
</abbr>
<span class="label">By</span>
<a href="http://liugehao.github.io/author/liugehao.html"><i class="icon-user"></i>liugehao</a>
<span class="label">Category</span>
<a href="http://liugehao.github.io/category/linux.html"><i class="icon-folder-open"></i>linux</a>.


</footer><!-- /.post-info --></div>
                <div class="summary"><p>有的不用安装，这是我机器上.cache上所有的东西,下载过程有的软件找不到，google之。
{{{
sudo apt-get install wine
winetricks baekmuk  flash11 ie8   msxml6    unifont  vcrun2008 win2ksp4 corefonts gdiplus msls31 takao    vb6run   vcrun6 dotnet40  ie6   msxml3 track_usage vcrun2005 wenquanyi
}}}</p>
<p>安装 rtx
regedit 下面的注册表，解决聊天记录乱码
{{{
REGEDIT4
[HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\FontSubstitutes]
"Arial"="simsun"
"Arial CE,238"="simsun"
"Arial CYR ...</p>
                        <a class="btn primary xsmall" href="http://liugehao.github.io/ubuntu-wine-an-zhuang-rtx.html">more ...</a>
                </div>
        </div>
        <hr />
        <div class="article">
                <h1><a href="http://liugehao.github.io/localecuo-wu.html">locale错误</a></h1>
                <div class="well small"><footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2012-12-24T00:00:00">
        <i class="icon-calendar"></i>一 24 十二月 2012
</abbr>
<span class="label">By</span>
<a href="http://liugehao.github.io/author/liugehao.html"><i class="icon-user"></i>liugehao</a>
<span class="label">Category</span>
<a href="http://liugehao.github.io/category/linux.html"><i class="icon-folder-open"></i>linux</a>.


</footer><!-- /.post-info --></div>
                <div class="summary"><p>重新设置。
{{{
rm /var/lib/locales/supported.d/en
rm /var/lib/locales/supported.d/zh
cp /usr/share/i18n/SUPPORTED /var/lib/locales/supported.d/local
vi /var/lib/locales/supported.d/local #保留en zh开头的行</p>
<p>locale-gen --purge
}}}</p>
                        <a class="btn primary xsmall" href="http://liugehao.github.io/localecuo-wu.html">more ...</a>
                </div>
        </div>
        <hr />
        <div class="article">
                <h1><a href="http://liugehao.github.io/zai-zhe-li-xiang-shu-liugehao-gong-zuo-201212.html">在这里详述 liugehao-工作-201212。</a></h1>
                <div class="well small"><footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2012-12-06T00:00:00">
        <i class="icon-calendar"></i>四 06 十二月 2012
</abbr>
<span class="label">By</span>
<a href="http://liugehao.github.io/author/liugehao.html"><i class="icon-user"></i>liugehao</a>
<span class="label">Category</span>
<a href="http://liugehao.github.io/category/others.html"><i class="icon-folder-open"></i>Others</a>.


</footer><!-- /.post-info --></div>
                <div class="summary"><p>I. QQ、Rtx在ubuntu系统下稳定性测试</p>
                        <a class="btn primary xsmall" href="http://liugehao.github.io/zai-zhe-li-xiang-shu-liugehao-gong-zuo-201212.html">more ...</a>
                </div>
        </div>
        <hr />
        <div class="article">
                <h1><a href="http://liugehao.github.io/zai-zhe-li-xiang-shu-pythonshi-yong-scrapydlai-yun-xing-spider.html">在这里详述 python/使用scrapyd来运行spider。</a></h1>
                <div class="well small"><footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2012-12-05T00:00:00">
        <i class="icon-calendar"></i>三 05 十二月 2012
</abbr>
<span class="label">By</span>
<a href="http://liugehao.github.io/author/liugehao.html"><i class="icon-user"></i>liugehao</a>
<span class="label">Category</span>
<a href="http://liugehao.github.io/category/others.html"><i class="icon-folder-open"></i>Others</a>.


</footer><!-- /.post-info --></div>
                <div class="summary"><p>用scrapy写爬虫的时候都是通过crawl来执行，这样的运行方式是只执行一个爬虫，如果想同时运行多个爬虫可以考虑使用scrapyd的方式，也就是scrapy server。</p>
<p>= 运行scrapyd: =
 . {{{
scrapy server
}}}</p>
<p>= 部署project: =
 . 查看project的deploy列表 进入到project目录后执行下面的命令
 {{{
scrapy deploy -l
}}}
 如果有返回类似下面的内容的说明配置正确
 {{{
scrapyd              http://localhost:6800/
}}}
 如果没有显示就编辑project的scrapy.cfg里面的deploy
 {{{
[deploy]
url = http://localhost:6800/
project = pitayacd
}}}
 打包并上传
 {{{
scrapy deploy default -p pitayacd
}}}
 返回信息如下
 {{{#!highlight json
{"status": "ok", "project": "pitayacd", "version": "1348817612", "spiders": 1}
}}}</p>
<p>= 运行jobs =
 . 部署完成后使用curl提交信息到scrapyd就可以运行指定的spiders了
 {{{
curl http://localhost ...</p>
                        <a class="btn primary xsmall" href="http://liugehao.github.io/zai-zhe-li-xiang-shu-pythonshi-yong-scrapydlai-yun-xing-spider.html">more ...</a>
                </div>
        </div>
        <hr />
        <div class="article">
                <h1><a href="http://liugehao.github.io/setting-up-django-with-scrapy.html">setting up Django with Scrapy</a></h1>
                <div class="well small"><footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2012-11-30T00:00:00">
        <i class="icon-calendar"></i>五 30 十一月 2012
</abbr>
<span class="label">By</span>
<a href="http://liugehao.github.io/author/liugehao.html"><i class="icon-user"></i>liugehao</a>
<span class="label">Category</span>
<a href="http://liugehao.github.io/category/python.html"><i class="icon-folder-open"></i>python</a>.


</footer><!-- /.post-info --></div>
                <div class="summary"><p>Setting up Django with Scrapy</p>
<p>This guide is about using Django, the most popular Python web framework, and Scrapy, the most popular Python scraping framework. Both of the frameworks are awesome, and they work very well standalone.</p>
<p>Before you continue reading, make sure you are already beyond “Getting Started” stage ...</p>
                        <a class="btn primary xsmall" href="http://liugehao.github.io/setting-up-django-with-scrapy.html">more ...</a>
                </div>
        </div>
        <hr />
        <div class="article">
                <h1><a href="http://liugehao.github.io/zhi-xing-djangojiao-ben.html">执行django脚本</a></h1>
                <div class="well small"><footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2012-11-29T00:00:00">
        <i class="icon-calendar"></i>四 29 十一月 2012
</abbr>
<span class="label">By</span>
<a href="http://liugehao.github.io/author/liugehao.html"><i class="icon-user"></i>liugehao</a>
<span class="label">Category</span>
<a href="http://liugehao.github.io/category/others.html"><i class="icon-folder-open"></i>Others</a>.


</footer><!-- /.post-info --></div>
                <div class="summary"><p>在django项目中有时候会需要写一些脚本来执行一些工作，比如初始化数据，测试等等</p>
<p>但是脚本中必须导入django项目，这时候就需要在脚本中添加如下代码：</p>
<p>{{{#!highlight python
import os,sys
sys.path.insert(0,os.path.abspath(os.curdir))
from django.core.management import setup_environ
import settings
setup_environ(settings)
}}}
然后该干嘛干嘛</p>
                        <a class="btn primary xsmall" href="http://liugehao.github.io/zhi-xing-djangojiao-ben.html">more ...</a>
                </div>
        </div>
        <hr />
        <div class="article">
                <h1><a href="http://liugehao.github.io/zai-zhe-li-xiang-shu-liugehao-gong-zuo-201211.html">在这里详述 liugehao-工作-201211。</a></h1>
                <div class="well small"><footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2012-11-28T00:00:00">
        <i class="icon-calendar"></i>三 28 十一月 2012
</abbr>
<span class="label">By</span>
<a href="http://liugehao.github.io/author/liugehao.html"><i class="icon-user"></i>liugehao</a>
<span class="label">Category</span>
<a href="http://liugehao.github.io/category/others.html"><i class="icon-folder-open"></i>Others</a>.


</footer><!-- /.post-info --></div>
                <div class="summary"><p>I. 1
  i. 小组会议
  i. 培训
  i. Crm系统反馈讨论
 I. 2
  i. ＰＭ谈话，团队培训和管理问题
  i. 过程改进周会
  i. 周报
 I. 5
  i. 阅读hadoop
 I. 6
  i. 帮王雪凯解决sap的webservice错误
 I. 7
  i. ＣＭＭＩ培训
  i. 手机客户端测试协调
 I. 8
  i. 小组周会
  i. sap测试讨论
 I. 9
  i. 周报　，cmmi周会
 I. 12
  i. 帮王雪凯处理分析车辆系统问题
 I. 13
  i. 测试基础信息维护页面 ...</p>
                        <a class="btn primary xsmall" href="http://liugehao.github.io/zai-zhe-li-xiang-shu-liugehao-gong-zuo-201211.html">more ...</a>
                </div>
        </div>
        <hr />
        <div class="article">
                <h1><a href="http://liugehao.github.io/postgresql-zhan-shi-shou-fei-jiao-ben.html">postgresql一站式收费脚本</a></h1>
                <div class="well small"><footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2012-11-27T00:00:00">
        <i class="icon-calendar"></i>二 27 十一月 2012
</abbr>
<span class="label">By</span>
<a href="http://liugehao.github.io/author/liugehao.html"><i class="icon-user"></i>liugehao</a>
<span class="label">Category</span>
<a href="http://liugehao.github.io/category/db.html"><i class="icon-folder-open"></i>db</a>.


</footer><!-- /.post-info --></div>
                <div class="summary"><p>不考虑其它条件，粗略计算。plpythonu 存储过程。
{{{#!highlight python
-- Function: jisuan(date, integer)</p>
<p>-- DROP FUNCTION jisuan(date, integer);</p>
<p>CREATE OR REPLACE FUNCTION jisuan(dt date, pagesize integer)
  RETURNS text AS
$BODY$</p>
<p>import pickle, datetime, math
startdt = datetime.datetime.now()
wd_citys = {}</p>
<p>for row in plpy.execute('select g.bm,cc."CityID",g.sjdw as ...</p>
                        <a class="btn primary xsmall" href="http://liugehao.github.io/postgresql-zhan-shi-shou-fei-jiao-ben.html">more ...</a>
                </div>
        </div>
        <hr />
        <div class="article">
                <h1><a href="http://liugehao.github.io/postgresqlan-zhuang-plphpyu-yan.html">postgresql安装plphp语言</a></h1>
                <div class="well small"><footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2012-11-27T00:00:00">
        <i class="icon-calendar"></i>二 27 十一月 2012
</abbr>
<span class="label">By</span>
<a href="http://liugehao.github.io/author/liugehao.html"><i class="icon-user"></i>liugehao</a>
<span class="label">Category</span>
<a href="http://liugehao.github.io/category/db.html"><i class="icon-folder-open"></i>db</a>.


</footer><!-- /.post-info --></div>
                <div class="summary"><p>ubuntu 下postgresql用python写存储过程，直接安装
{{{
apt-get install postgresql-plpython-9.1 #python2
apt-get install postgresql-plpython3-9.1 #python3
}}}
== 用php写存储过程 ==
php的话只能编译安装。</p>
<p>{{{#!highlight bash</p>
<h1>php安装</h1>
<p>wget http://cn2.php.net/get/php-5.4.9.tar.bz2/from/this/mirror 
tar jxf mirror
cd php-5.4.9
./configure --prefix=/usr/local/php5.4.9 --enable-embed #必须embed
make -j ...</p>
                        <a class="btn primary xsmall" href="http://liugehao.github.io/postgresqlan-zhuang-plphpyu-yan.html">more ...</a>
                </div>
        </div>
        <hr />
        <div class="article">
                <h1><a href="http://liugehao.github.io/zai-postgresqlzhong-ru-he-shan-chu-zhong-fu-ji-lu.html">在PostgreSQL中如何删除重复记录</a></h1>
                <div class="well small"><footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2012-11-22T00:00:00">
        <i class="icon-calendar"></i>四 22 十一月 2012
</abbr>
<span class="label">By</span>
<a href="http://liugehao.github.io/author/liugehao.html"><i class="icon-user"></i>liugehao</a>
<span class="label">Category</span>
<a href="http://liugehao.github.io/category/others.html"><i class="icon-folder-open"></i>Others</a>.


</footer><!-- /.post-info --></div>
                <div class="summary"><p>在PostgreSQL中删除重复记录其实很简单，不论有多少行重复，只要在要删除重复记录的表中table加一列rownum字段(id为table表中的主键)，类型设置为serial类型即可，然后执行sql
{{{#!highlight sql
delete from table where rownum not in(
    select max(rownum) from table group by id
)
}}}</p>
<p>最后删除列rownum即可</p>
                        <a class="btn primary xsmall" href="http://liugehao.github.io/zai-postgresqlzhong-ru-he-shan-chu-zhong-fu-ji-lu.html">more ...</a>
                </div>
        </div>
        <hr />

        <div class="pagination">
        <ul>
                        <li class="prev"><a href="http://liugehao.github.io/index10.html">&larr; Previous</a></li>
                        <li class=""><a href="http://liugehao.github.io/index.html">1</a></li>
                        <li class=""><a href="http://liugehao.github.io/index2.html">2</a></li>
                        <li class=""><a href="http://liugehao.github.io/index3.html">3</a></li>
                        <li class=""><a href="http://liugehao.github.io/index4.html">4</a></li>
                        <li class=""><a href="http://liugehao.github.io/index5.html">5</a></li>
                        <li class=""><a href="http://liugehao.github.io/index6.html">6</a></li>
                        <li class=""><a href="http://liugehao.github.io/index7.html">7</a></li>
                        <li class=""><a href="http://liugehao.github.io/index8.html">8</a></li>
                        <li class=""><a href="http://liugehao.github.io/index9.html">9</a></li>
                        <li class=""><a href="http://liugehao.github.io/index10.html">10</a></li>
                        <li class="active"><a href="http://liugehao.github.io/index11.html">11</a></li>
                        <li class=""><a href="http://liugehao.github.io/index12.html">12</a></li>
                        <li class=""><a href="http://liugehao.github.io/index13.html">13</a></li>
                        <li class=""><a href="http://liugehao.github.io/index14.html">14</a></li>
                        <li class=""><a href="http://liugehao.github.io/index15.html">15</a></li>
                        <li class=""><a href="http://liugehao.github.io/index16.html">16</a></li>
                        <li class=""><a href="http://liugehao.github.io/index17.html">17</a></li>
                        <li class="next"><a href="http://liugehao.github.io/index12.html">Next &rarr;</a></li>
        </ul>
        </div>

        </div><!--/span-->

                <div class="span3 well sidebar-nav" id="sidebar">
<ul class="nav nav-list">
<li class="nav-header"><h4><i class="icon-external-link"></i>blogroll</h4></li>
    <li><a href="http://getpelican.com/"><i class="icon-external-link"></i>Pelican</a></li>
    <li><a href="http://python.org/"><i class="icon-external-link"></i>Python.org</a></li>
    <li><a href="http://jinja.pocoo.org/"><i class="icon-external-link"></i>Jinja2</a></li>
    <li><a href="#"><i class="icon-external-link"></i>You can modify those links in your config file</a></li>
<li class="nav-header"><h4><i class="icon-home icon-large"></i> social</h4></li>
<li><a href="http://liugehao.github.io/" rel="alternate"><i class="icon-bookmark icon-large"></i>atom feed</a></li>
    <li><a href="#"><i class="icon-You can add links in your config file-sign icon-large"></i>You can add links in your config file</a></li>
    <li><a href="#"><i class="icon-Another social link-sign icon-large"></i>Another social link</a></li>

<li class="nav-header"><h4><i class="icon-folder-close icon-large"></i>Categories</h4></li>
<li>
<a href="http://liugehao.github.io/category/c.html">
    <i class="icon-folder-open icon-large"></i>c
</a>
</li>
<li>
<a href="http://liugehao.github.io/category/db.html">
    <i class="icon-folder-open icon-large"></i>db
</a>
</li>
<li>
<a href="http://liugehao.github.io/category/linux.html">
    <i class="icon-folder-open icon-large"></i>linux
</a>
</li>
<li>
<a href="http://liugehao.github.io/category/linux2fe697a0e7babfe7bd91e58da1make3a202a2a2a2flib.html">
    <i class="icon-folder-open icon-large"></i>linux(2fe697a0e7babfe7bd91e58da1)make(3a202a2a2a2f)lib
</a>
</li>
<li>
<a href="http://liugehao.github.io/category/nginx.html">
    <i class="icon-folder-open icon-large"></i>nginx
</a>
</li>
<li>
<a href="http://liugehao.github.io/category/others.html">
    <i class="icon-folder-open icon-large"></i>Others
</a>
</li>
<li>
<a href="http://liugehao.github.io/category/php.html">
    <i class="icon-folder-open icon-large"></i>php
</a>
</li>
<li>
<a href="http://liugehao.github.io/category/python.html">
    <i class="icon-folder-open icon-large"></i>python
</a>
</li>
<li>
<a href="http://liugehao.github.io/category/ruby.html">
    <i class="icon-folder-open icon-large"></i>ruby
</a>
</li>
<li>
<a href="http://liugehao.github.io/category/tmp.html">
    <i class="icon-folder-open icon-large"></i>tmp
</a>
</li>

<li class="nav-header"><h4><i class="icon-tags icon-large"></i>Tags</h4></li>


</ul>        </div><!--/.well -->

      </div><!--/row-->

      <hr>

      <footer>
        <address id="about">
                Proudly powered by <a href="http://pelican.notmyidea.org/">Pelican <i class="icon-external-link"></i></a>,
                                which takes great advantage of <a href="http://python.org">Python <i class="icon-external-link"></i></a>.
        </address><!-- /#about -->

        <p>The theme is from <a href="http://twitter.github.com/bootstrap/">Bootstrap from Twitter <i class="icon-external-link"></i></a>,
                   and <a href="http://fortawesome.github.com/Font-Awesome/">Font-Awesome <i class="icon-external-link"></i></a>, thanks!</p>
      </footer>

    </div><!--/.fluid-container-->


<script type="text/javascript">
    var disqus_shortname = 'liugehaonotebook';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

    <!-- Le javascript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="http://liugehao.github.io/theme/js/jquery-1.7.2.min.js"></script>
    <script src="http://liugehao.github.io/theme/js/bootstrap.min.js"></script>
  </body>
</html>