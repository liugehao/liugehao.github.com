<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>r1.0.4 single node setup</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="liugehao">

    <!-- Le styles -->
    <link rel="stylesheet" href="http://liugehao.github.io/theme/css/bootstrap.min.css" type="text/css" />
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
      .tag-1 {
        font-size: 13pt;
      }
      .tag-2 {
        font-size: 10pt;
      }
      .tag-2 {
        font-size: 8pt;
      }
      .tag-4 {
        font-size: 6pt;
     }
    </style>
    <link href="http://liugehao.github.io/theme/css/bootstrap-responsive.min.css" rel="stylesheet">
        <link href="http://liugehao.github.io/theme/css/font-awesome.css" rel="stylesheet">

    <link href="http://liugehao.github.io/theme/css/pygments.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="http://liugehao.github.io/theme/images/favicon.ico">
    <link rel="apple-touch-icon" href="http://liugehao.github.io/theme/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="http://liugehao.github.io/theme/images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="http://liugehao.github.io/theme/images/apple-touch-icon-114x114.png">

    <link href="http://liugehao.github.io/" type="application/atom+xml" rel="alternate" title="My Note Book ATOM Feed" />

  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="http://liugehao.github.io/index.html">My Note Book </a>
          <div class="nav-collapse">
            <ul class="nav">
                          <li class="divider-vertical"></li>
                  <li >
                    <a href="http://liugehao.github.io/category/c.html">
						<i class="icon-folder-open icon-large"></i>c
					</a>
                  </li>
                  <li >
                    <a href="http://liugehao.github.io/category/db.html">
						<i class="icon-folder-open icon-large"></i>db
					</a>
                  </li>
                  <li class="active">
                    <a href="http://liugehao.github.io/category/linux.html">
						<i class="icon-folder-open icon-large"></i>linux
					</a>
                  </li>
                  <li >
                    <a href="http://liugehao.github.io/category/linux2fe697a0e7babfe7bd91e58da1make3a202a2a2a2flib.html">
						<i class="icon-folder-open icon-large"></i>linux(2fe697a0e7babfe7bd91e58da1)make(3a202a2a2a2f)lib
					</a>
                  </li>
                  <li >
                    <a href="http://liugehao.github.io/category/nginx.html">
						<i class="icon-folder-open icon-large"></i>nginx
					</a>
                  </li>
                  <li >
                    <a href="http://liugehao.github.io/category/others.html">
						<i class="icon-folder-open icon-large"></i>Others
					</a>
                  </li>
                  <li >
                    <a href="http://liugehao.github.io/category/php.html">
						<i class="icon-folder-open icon-large"></i>php
					</a>
                  </li>
                  <li >
                    <a href="http://liugehao.github.io/category/python.html">
						<i class="icon-folder-open icon-large"></i>python
					</a>
                  </li>
                  <li >
                    <a href="http://liugehao.github.io/category/ruby.html">
						<i class="icon-folder-open icon-large"></i>ruby
					</a>
                  </li>
                  <li >
                    <a href="http://liugehao.github.io/category/tmp.html">
						<i class="icon-folder-open icon-large"></i>tmp
					</a>
                  </li>

                          <ul class="nav pull-right">
                                <li><a href="http://liugehao.github.io/archives.html"><i class="icon-th-list"></i>Archives</a></li>
                          </ul>

            </ul>
            <!--<p class="navbar-text pull-right">Logged in as <a href="#">username</a></p>-->
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row">
        <div class="span9" id="content">
<section id="content">
        <article>
                <header>
                        <h1>
                                <a href=""
                                        rel="bookmark"
                                        title="Permalink to r1.0.4 single node setup">
                                        r1.0.4 single node setup
                                </a>
                        </h1>
                </header>
                <div class="entry-content">
                <div class="well">
<footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2012-11-08T00:00:00">
        <i class="icon-calendar"></i>四 08 十一月 2012
</abbr>
<span class="label">By</span>
<a href="http://liugehao.github.io/author/liugehao.html"><i class="icon-user"></i>liugehao</a>
<span class="label">Category</span>
<a href="http://liugehao.github.io/category/linux.html"><i class="icon-folder-open"></i>linux</a>.


</footer><!-- /.post-info -->                </div>
                <p>= Single Node Setup =
 * [[http://hadoop.apache.org/docs/r1.0.4/single_node_setup.html#Purpose|Purpose]]
 * [[http://hadoop.apache.org/docs/r1.0.4/single_node_setup.html#PreReqs|Prerequisites]]
  * [[http://hadoop.apache.org/docs/r1.0.4/single_node_setup.html#Supported+Platforms|Supported Platforms]]
  * [[http://hadoop.apache.org/docs/r1.0.4/single_node_setup.html#Required+Software|Required Software]]
  * [[http://hadoop.apache.org/docs/r1.0.4/single_node_setup.html#Installing+Software|Installing Software]]
 * [[http://hadoop.apache.org/docs/r1.0.4/single_node_setup.html#Download|Download]]
 * [[http://hadoop.apache.org/docs/r1.0.4/single_node_setup.html#Prepare+to+Start+the+Hadoop+Cluster|Prepare to Start the Hadoop Cluster]]
 * [[http://hadoop.apache.org/docs/r1.0.4/single_node_setup.html#Local|Standalone Operation]]
 * [[http://hadoop.apache.org/docs/r1.0.4/single_node_setup.html#PseudoDistributed|Pseudo-Distributed Operation]]
  * [[http://hadoop.apache.org/docs/r1.0.4/single_node_setup.html#Configuration|Configuration]]
  * [[http://hadoop.apache.org/docs/r1.0.4/single_node_setup.html#Setup+passphraseless|Setup passphraseless ssh]]
  * [[http://hadoop.apache.org/docs/r1.0.4/single_node_setup.html#Execution|Execution]]
 * [[http://hadoop.apache.org/docs/r1.0.4/single_node_setup.html#FullyDistributed|Fully-Distributed Operation]]</p>
<p>== Purpose ==
This document describes how to set up and configure a single-node Hadoop       installation so that you can quickly perform simple operations using Hadoop       MapReduce and the Hadoop Distributed File System (HDFS).</p>
<p>== Prerequisites ==
=== Supported Platforms ===
 * GNU/Linux is supported as a development and production platform.              Hadoop has been demonstrated on GNU/Linux clusters with 2000 nodes.</p>
<ul>
<li>Win32 is supported as a ''development platform''. Distributed              operation has not been well tested on Win32, so it is not              supported as a ''production platform''.</li>
</ul>
<p>=== Required Software ===
 . Required software for Linux and Windows include:
  1. Java^TM^ 1.6.x, preferably from Sun, must be installed.
 * '''ssh''' must be installed and '''sshd''' must              be running to use the Hadoop scripts that manage remote Hadoop              daemons. Additional requirements for Windows include:
  1. [[http://www.cygwin.com/|Cygwin]] - Required for shell              support in addition to the required software above.</p>
<p>=== Installing Software ===
 . If your cluster doesn't have the requisite software you will need to         install it. For example on Ubuntu Linux: $ sudo apt-get install ssh
  . $ sudo apt-get install rsync
 On Windows, if you did not install the required software when you          installed cygwin, start the cygwin installer and select the packages:
  * openssh - the ''Net'' category</p>
<p>== Download ==
To get a Hadoop distribution, download a recent          [[http://hadoop.apache.org/core/releases.html|stable release]] from one of the Apache Download         Mirrors.</p>
<p>== Prepare to Start the Hadoop Cluster ==
Unpack the downloaded Hadoop distribution. In the distribution, edit the         file conf/hadoop-env.sh to define at least          JAVA_HOME to be the root of your Java installation.</p>
<p>. Try the following command:
  . $ bin/hadoop
  . This will display the usage documentation for the '''hadoop'''          script.
 Now you are ready to start your Hadoop cluster in one of the three supported       modes:
  * Local (Standalone) Mode
 * Pseudo-Distributed Mode
 * Fully-Distributed Mode</p>
<p>== Standalone Operation ==
By default, Hadoop is configured to run in a non-distributed        mode, as a single Java process. This is useful for debugging.</p>
<p>. The following example copies the unpacked conf directory to          use as input and then finds and displays every match of the given regular          expression. Output is written to the given output directory.
  . $ mkdir input $ cp conf/<em>.xml input
   . $ bin/hadoop jar hadoop-examples-</em>.jar grep input output 'dfs[a-z.]+'
  $ cat output/*</p>
<p>== Pseudo-Distributed Operation ==
Hadoop can also be run on a single-node in a pseudo-distributed mode      where each Hadoop daemon runs in a separate Java process.</p>
<p>=== Configuration ===
 . Use the following:
  . conf/core-site.xml:
 {{{
<configuration>
     <property>
         <name>fs.default.name</name>
         <value>hdfs://localhost:9000</value>
     </property>
</configuration>
}}}
 conf/hdfs-site.xml:
 {{{
<configuration>
     <property>
         <name>dfs.replication</name>
         <value>1</value>
     </property>
</configuration>
}}}
 conf/mapred-site.xml:
 {{{
<configuration>
     <property>
         <name>mapred.job.tracker</name>
         <value>localhost:9001</value>
     </property>
</configuration>
}}}</p>
<p>=== Setup passphraseless ssh ===
 . Now check that you can ssh to the localhost without a passphrase:
  . $ ssh localhost
 If you cannot ssh to localhost without a passphrase, execute the            following commands:
  . $ ssh-keygen -t dsa -P '' -f ~/.ssh/id_dsa $ cat ~/.ssh/id_dsa.pub &gt;&gt; ~/.ssh/authorized_keys ''</p>
<p>=== Execution ===
 . ''Format a new distributed-filesystem:   . $ bin/hadoop namenode -format
Start the hadoop daemons:   . $ bin/start-all.sh
The hadoop daemon log output is written to the          ${HADOOP_LOG_DIR} directory (defaults to          ${HADOOP_HOME}/logs). Browse the web interface for the NameNode and the JobTracker; by         default they are available at:</p>
<ul>
<li>NameNode -              http://localhost:50070/
''</li>
<li>''JobTracker -              http://localhost:50030/ Copy the input files into the distributed filesystem: ''
  . ''$ bin/hadoop fs -put conf input ''
 ''Run some of the examples provided:   . $ bin/hadoop jar hadoop-examples-<em>.jar grep input output 'dfs[a-z.]+'
Examine the output files: Copy the output files from the distributed filesystem to the local            filesytem and examine them:   . $ bin/hadoop fs -get output output $ cat output/</em>
or View the output files on the distributed filesystem:   . $ bin/hadoop fs -cat output/*
When you're done, stop the daemons with:   . $ bin/stop-all.sh
''</li>
</ul>
<p>== Fully-Distributed Operation ==
''For information on setting up fully-distributed, non-trivial clusters     see [[http://hadoop.apache.org/docs/r1.0.4/cluster_setup.html|Cluster Setup]]. ''</p>
<p>Java and JNI are trademarks or registered trademarks of        Sun Microsystems, Inc. in the United States and other countries.'' ''</p>
                </div><!-- /.entry-content -->
                <div class="comments">
                <h2>Comments !</h2>
                        <div id="disqus_thread"></div>
                        <script type="text/javascript">
                           var disqus_identifier = "r104-single-node-setup.html";
                           (function() {
                                var dsq = document.createElement('script');
                                dsq.type = 'text/javascript'; dsq.async = true;
                                dsq.src = 'http://liugehaonotebook.disqus.com/embed.js';
                                (document.getElementsByTagName('head')[0] ||
                                 document.getElementsByTagName('body')[0]).appendChild(dsq);
                          })();
                        </script>
                </div>
        </article>
</section>
        </div><!--/span-->

                <div class="span3 well sidebar-nav" id="sidebar">
<ul class="nav nav-list">
<li class="nav-header"><h4><i class="icon-external-link"></i>blogroll</h4></li>
    <li><a href="http://getpelican.com/"><i class="icon-external-link"></i>Pelican</a></li>
    <li><a href="http://python.org/"><i class="icon-external-link"></i>Python.org</a></li>
    <li><a href="http://jinja.pocoo.org/"><i class="icon-external-link"></i>Jinja2</a></li>
    <li><a href="#"><i class="icon-external-link"></i>You can modify those links in your config file</a></li>
<li class="nav-header"><h4><i class="icon-home icon-large"></i> social</h4></li>
<li><a href="http://liugehao.github.io/" rel="alternate"><i class="icon-bookmark icon-large"></i>atom feed</a></li>
    <li><a href="#"><i class="icon-You can add links in your config file-sign icon-large"></i>You can add links in your config file</a></li>
    <li><a href="#"><i class="icon-Another social link-sign icon-large"></i>Another social link</a></li>

<li class="nav-header"><h4><i class="icon-folder-close icon-large"></i>Categories</h4></li>
<li>
<a href="http://liugehao.github.io/category/c.html">
    <i class="icon-folder-open icon-large"></i>c
</a>
</li>
<li>
<a href="http://liugehao.github.io/category/db.html">
    <i class="icon-folder-open icon-large"></i>db
</a>
</li>
<li>
<a href="http://liugehao.github.io/category/linux.html">
    <i class="icon-folder-open icon-large"></i>linux
</a>
</li>
<li>
<a href="http://liugehao.github.io/category/linux2fe697a0e7babfe7bd91e58da1make3a202a2a2a2flib.html">
    <i class="icon-folder-open icon-large"></i>linux(2fe697a0e7babfe7bd91e58da1)make(3a202a2a2a2f)lib
</a>
</li>
<li>
<a href="http://liugehao.github.io/category/nginx.html">
    <i class="icon-folder-open icon-large"></i>nginx
</a>
</li>
<li>
<a href="http://liugehao.github.io/category/others.html">
    <i class="icon-folder-open icon-large"></i>Others
</a>
</li>
<li>
<a href="http://liugehao.github.io/category/php.html">
    <i class="icon-folder-open icon-large"></i>php
</a>
</li>
<li>
<a href="http://liugehao.github.io/category/python.html">
    <i class="icon-folder-open icon-large"></i>python
</a>
</li>
<li>
<a href="http://liugehao.github.io/category/ruby.html">
    <i class="icon-folder-open icon-large"></i>ruby
</a>
</li>
<li>
<a href="http://liugehao.github.io/category/tmp.html">
    <i class="icon-folder-open icon-large"></i>tmp
</a>
</li>

<li class="nav-header"><h4><i class="icon-tags icon-large"></i>Tags</h4></li>


</ul>        </div><!--/.well -->

      </div><!--/row-->

      <hr>

      <footer>
        <address id="about">
                Proudly powered by <a href="http://pelican.notmyidea.org/">Pelican <i class="icon-external-link"></i></a>,
                                which takes great advantage of <a href="http://python.org">Python <i class="icon-external-link"></i></a>.
        </address><!-- /#about -->

        <p>The theme is from <a href="http://twitter.github.com/bootstrap/">Bootstrap from Twitter <i class="icon-external-link"></i></a>,
                   and <a href="http://fortawesome.github.com/Font-Awesome/">Font-Awesome <i class="icon-external-link"></i></a>, thanks!</p>
      </footer>

    </div><!--/.fluid-container-->


<script type="text/javascript">
    var disqus_shortname = 'liugehaonotebook';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

    <!-- Le javascript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="http://liugehao.github.io/theme/js/jquery-1.7.2.min.js"></script>
    <script src="http://liugehao.github.io/theme/js/bootstrap.min.js"></script>
  </body>
</html>